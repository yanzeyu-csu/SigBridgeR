% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/25-DEGAS_Screen.R
\name{predClassBag.optimized}
\alias{predClassBag.optimized}
\title{Bagged Prediction for Classification Models}
\usage{
predClassBag.optimized(ccModel, Exp, scORpat)
}
\arguments{
\item{ccModel}{A list of \code{ccModel} objects representing the ensemble of
models to use for bagged prediction. Each model should be
a valid ccModel instance.}

\item{Exp}{A matrix or data frame containing the expression data to be
classified.}

\item{scORpat}{A character string specifying whether the data represents
single-cell ("sc") or phenotype ("pat") data. This parameter
is passed to the underlying prediction functions.}
}
\value{
A matrix of averaged predictions where each element represents the
aggregated probability or classification score across all models
in the ensemble. The output is computed as the mean of all individual
model predictions.
}
\description{
Performs bagged (bootstrap aggregating) predictions using an ensemble of
ccModel objects. This function averages predictions from multiple models
to improve stability and accuracy.
}
\details{
This function implements model bagging by:
\itemize{
\item Iterating over each model in the \code{ccModel} list using \code{purrr::map}
\item Selecting the appropriate prediction function based on the model's
architecture ("DenseNet" vs "Standard")
\item Averaging all predictions using \code{Reduce("+", out) / length(out)}
}

The function supports two architectures:
\itemize{
\item \strong{"DenseNet"}: Uses \code{DEGAS::predClass2} for prediction
\item \strong{"Standard"}: Uses \code{DEGAS::predClass1} for prediction
}

If an unsupported architecture is encountered, the function will abort
with an informative error message.
}
\examples{
\dontrun{
# Create an ensemble of models
model_list <- list(model1, model2, model3)

# Perform bagged prediction on expression data
predictions <- predClassBag(
  ccModel = model_list,
  Exp = expression_matrix,
  scORpat = "sc"
)

# Use the averaged predictions for downstream analysis
class_assignments <- ifelse(predictions > 0.5, "Class1", "Class2")
}

}
\references{
Johnson TS, Yu CY, Huang Z, Xu S, Wang T, Dong C, et al. Diagnostic Evidence GAuge of Single cells (DEGAS): a flexible deep transfer learning framework for prioritizing cells in relation to disease. Genome Med. 2022 Feb 1;14(1):11.
}
\seealso{
Other DEGAS_in_SigBridgeR: 
\code{\link{ccModel-class}},
\code{\link{readOutputFiles.optimized}()},
\code{\link{runCCMTL.optimized}()},
\code{\link{runCCMTLBag.optimized}()},
\code{\link{writeInputFiles.optimized}()}
}
\concept{DEGAS_in_SigBridgeR}
\keyword{internal}
