% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/43-NormalityTest.R
\name{sf.test}
\alias{sf.test}
\title{Shapiro-Francia Normality Test}
\usage{
sf.test(x)
}
\arguments{
\item{x}{A numeric vector of data values. Missing values will be
automatically removed.}
}
\value{
A list with class \code{"htest"} containing the following components:
\itemize{
\item \code{statistic} - The Shapiro-Francia test statistic (W)
\item \code{p.value} - The p-value for the test
\item \code{method} - The name of the method ("Shapiro-Francia normality test")
\item \code{data.name} - The name of the data used in the test
}
}
\description{
Performs the Shapiro-Francia test for normality, which is similar to the
Shapiro-Wilk test but designed to handle larger sample sizes (up to 5000
observations).
}
\details{
The Shapiro-Francia test is a powerful test for normality that is particularly
useful for larger sample sizes where the Shapiro-Wilk test may not be applicable.
The test is based on the correlation between the ordered sample values and the
corresponding normal quantiles.

The test procedure involves:
\enumerate{
\item Sorting the data and computing normal quantiles using \code{\link{qnorm}}
with \code{\link{ppoints}} (Blom's method with a = 3/8)
\item Calculating the squared correlation coefficient between the ordered
data and the normal quantiles: \eqn{W = [cor(x, y)]^2}
\item Transforming the statistic using: \eqn{z = (\log(1 - W) - \mu) / \sigma}
\item Computing the p-value from the standard normal distribution
}

The parameters for the transformation are:
\deqn{\mu = -1.2725 + 1.0521 \times (\log(u) - u)}
\deqn{\sigma = 1.0308 - 0.26758 \times (\log(u) + 2/u)}
where \eqn{u = \log(n)} and \eqn{n} is the sample size.
}
\note{
The Shapiro-Francia test has the following limitations:
\itemize{
\item Sample size must be between 5 and 5000
\item The test may be less powerful than the Shapiro-Wilk test for small samples
\item For sample sizes > 5000, consider using other tests like
Anderson-Darling or Cramer-von Mises
}
}
\examples{
# Test a sample from normal distribution
set.seed(123)
normal_data <- rnorm(100)
sf.test(normal_data)

# Test a sample from non-normal distribution
exponential_data <- rexp(50)
sf.test(exponential_data)

# Test with real data
if (require("datasets")) {
  sf.test(iris$Sepal.Length)
}

}
\references{
This implementation is based on the \code{nortest} package:

Shapiro, S.S. and Francia, R.S. (1972). An Approximate Analysis of Variance
Test for Normality. Journal of the American Statistical Association, 67(337), 215-216.

Royston, P. (1993). A Pocket-Calculator Algorithm for the Shapiro-Francia Test
for Non-Normality: An Application to Medicine. Statistics in Medicine, 12(2), 181-184.

Thode, H.C. (2002). Testing for Normality. Marcel Dekker, New York.
}
\seealso{
\code{\link{shapiro.test}} for the Shapiro-Wilk normality test (limited to 5000 observations).
\code{\link{ad.test}} for the Anderson-Darling normality test.
\code{\link{cvm.test}} for the Cramer-von Mises normality test.
\code{\link{pearson.test}} for the Pearson chi-square normality test.
\code{\link{ppoints}} for the generation of probability points.
\code{\link{qnorm}} for the normal quantile function.

Other normality_test: 
\code{\link{ad.test}()},
\code{\link{cvm.test}()},
\code{\link{dagostino.test}()},
\code{\link{jb.test.modified}()},
\code{\link{pearson.test}()}
}
\concept{normality_test}
\keyword{htest}
\keyword{internal}
