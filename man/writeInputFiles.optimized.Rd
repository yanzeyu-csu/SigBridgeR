% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/25-DEGAS_Screen.R
\name{writeInputFiles.optimized}
\alias{writeInputFiles.optimized}
\title{Optimized Input File Writing for DEGAS Models}
\usage{
writeInputFiles.optimized(scExp, scLab = NULL, patExp, patLab = NULL, tmpDir)
}
\arguments{
\item{scExp}{A matrix, data frame, or Matrix object containing single-cell
expression data. Rows typically represent genes and columns represent cells.}

\item{scLab}{A matrix, or data frame containing single-cell labels
corresponding to the expression data. Can be NULL if no labels are available.}

\item{patExp}{A data frame, or Matrix object containing patient-level
expression data. Rows typically represent genes and columns represent patients.}

\item{patLab}{A matrix, or data frame containing patient-level labels
corresponding to the patient expression data. Can be NULL if no labels are available.}

\item{tmpDir}{Character string specifying the directory path where input
files will be written. The directory will be created if it doesn't exist.}
}
\value{
Invisibly returns TRUE if all files are successfully written. If any error
occurs during file writing, the function will abort with an informative error message.
}
\description{
Efficiently writes input data files for DEGAS model training using optimized
data handling and fast I/O operations. This function converts various data
types to efficient CSV format using data.table's fwrite for rapid file
operations with comprehensive error handling.
}
\details{
This function provides an optimized pipeline for writing input files required
by DEGAS models with the following features:
\subsection{File Output:}{

The function creates four CSV files in the specified temporary directory:
\itemize{
\item \code{scExp.csv}: Single-cell expression data
\item \code{scLab.csv}: Single-cell labels (if provided)
\item \code{patExp.csv}: Patient-level expression data
}
}
}
\note{
The function uses comma-separated values (CSV) format without row names to
ensure compatibility with Python-based DEGAS training scripts. All input
data is converted to dense format during writing, so ensure sufficient
memory is available for large datasets.
}
\examples{
\dontrun{
# Write input files for DEGAS training
writeInputFiles.optimized(
  scExp = single_cell_expression,
  scLab = single_cell_labels,
  patExp = patient_expression,
  patLab = patient_labels,
  tmpDir = "/tmp/degas_input"
)
}

}
\references{
Johnson TS, Yu CY, Huang Z, Xu S, Wang T, Dong C, et al. Diagnostic Evidence GAuge of Single cells (DEGAS): a flexible deep transfer learning framework for prioritizing cells in relation to disease. Genome Med. 2022 Feb 1;14(1):11.
}
\seealso{
\code{\link[data.table:fwrite]{data.table::fwrite()}} for the underlying fast writing implementation,
\code{\link[purrr:safely]{purrr::safely()}} for the error handling mechanism.

Other DEGAS: 
\code{\link{DoDEGAS}()},
\code{\link{LabelBinaryCells}()},
\code{\link{LabelContinuousCells}()},
\code{\link{LabelSurvivalCells}()},
\code{\link{Vec2sparse}()},
\code{\link{predClassBag.optimized}()},
\code{\link{readOutputFiles.optimized}()},
\code{\link{runCCMTL.optimized}()},
\code{\link{runCCMTLBag.optimized}()}
}
\concept{DEGAS}
\keyword{internal}
